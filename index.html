<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Oceans, Our Responsibility</title>
  <!-- Favicon and app icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" href="favicon.ico">
  <!-- Fonts and icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #fff;
      min-height: 100%;
      font-family: 'Montserrat', Arial, sans-serif;
      color: #212529;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .container {
      width: 100%;
      max-width: 860px;
      margin: 0 auto;
      background: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      box-shadow: 0 4px 28px 0 rgba(38,74,112,.07);
      border-radius: 0 0 14px 14px;
      margin-bottom: 30px;
    }
    .hero {
      position: relative;
      min-height: 340px;
      background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
      display: flex;
      align-items: flex-end;
      border-radius: 0;
      overflow: hidden;
    }
    .hero-content {
      width: 100%;
      padding: 80px 36px 36px 36px;
      background: linear-gradient(to top, rgba(0,0,0,0.66) 90%, rgba(0,0,0,0) 100%);
      position: absolute;
      bottom: 0;
      left: 0;
      color: #fff;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      border-radius: 0 0 14px 14px;
    }
    .hero-title {
      font-size: 2.6em;
      font-weight: 700;
      margin: 0 0 16px 0;
      letter-spacing: -1px;
      text-shadow: 0 2px 7px rgba(0,0,0,0.24);
    }
    .hero-desc {
      font-size: 1.18em;
      opacity: 0.98;
      margin-bottom: 30px;
      text-shadow: 0 1px 8px rgba(0,0,0,0.11);
    }
    .btn {
      background: #1888d4;
      color: #fff;
      font-weight: 700;
      padding: 13px 25px;
      border: none;
      border-radius: 8px;
      font-size: 1.08em;
      cursor: pointer;
      margin: 0;
      margin-bottom: 16px;
      display: inline-block;
      transition: background 0.18s;
      text-align: center;
      text-decoration: none;
      box-shadow: 0 2px 7px rgba(24,136,212,0.08);
    }
    .btn:hover {
      background: #135d94;
    }
    .section {
      padding: 40px 36px 0 36px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .section:last-child {
      padding-bottom: 38px;
    }
    h2 {
      font-size: 1.4em;
      font-weight: 700;
      margin: 0 0 12px 0;
    }
    .section p {
      margin-top: 0;
      margin-bottom: 18px;
    }
    .pledge-section {
      padding: 38px 36px 0 36px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .pledge-section input {
      width: 100%;
      padding: 16px 12px;
      margin-bottom: 13px;
      font-size: 1em;
      border: 1px solid #d1d5db;
      border-radius: 7px;
      box-sizing: border-box;
      font-family: inherit;
      background: #fafbfc;
      outline: none;
      transition: border 0.16s;
    }
    .pledge-section input:focus {
      border-color: #1888d4;
    }
    .footer {
      text-align: center;
      margin-top: 30px;
      color: #909090;
      font-size: 1.07em;
      padding-bottom: 22px;
      flex-shrink: 0;
    }
    .footer .icons {
      margin-bottom: 12px;
    }
    .footer .icons a {
      color: #909090;
      margin: 0 18px;
      font-size: 1.25em;
      transition: color 0.18s;
      text-decoration: none;
    }
    .footer .icons a:hover {
      color: #1888d4;
    }
    @media (max-width: 900px) {
      .container { max-width: 99vw; border-radius: 0;}
      .hero, .hero-content { border-radius: 0; }
    }
    @media (max-width: 700px) {
      .hero {
        min-height: 0;
        height: auto;
        display: block;
      }
      .hero-content {
        position: relative;
        background: linear-gradient(to bottom, rgba(0,0,0,0.55) 50%, rgba(0,0,0,0) 100%);
        padding: 24px 8px 16px 8px;
        border-radius: 0;
        box-sizing: border-box;
        margin: 0;
        top: 0;
        left: 0;
      }
      .hero-title { font-size: 1.4em;}
      .section, .pledge-section { padding: 22px 12px 0 12px; }
      .container { box-shadow: none; }
    }
    @media (max-width: 480px) {
      .hero-content {
        padding: 16px 4vw 8px 4vw;
      }
      .hero-title { font-size: 1em;}
      .btn { font-size: 0.93em; padding: 9px 7px;}
      .section, .pledge-section { padding: 12px 5vw 0 5vw; }
    }
    @media (max-width: 340px) {
      .hero-content {
        padding-top: 5px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <div class="hero-content">
        <div class="hero-title">Our Oceans, Our Responsibility</div>
        <div class="hero-desc">
          Discover the journey of trash from our streets to the sea, and how we can make a difference.
        </div>
        <a href="#our-process" class="btn" id="learnMoreBtn">Learn More</a>
      </div>
    </div>

    <div class="section">
      <h2>Storm Drain DNA</h2>
      <p>Every piece of trash tells a story, and storm drains are the conduits of these tales. They carry debris from our neighborhoods directly to our oceans, making our actions on land a direct reflection of the health of our seas.</p>
    </div>

    <div class="section">
      <h2>Where It Comes From</h2>
      <p>From everyday litter to industrial waste, the sources of ocean trash are as varied as they are preventable. Understanding these origins is the first step towards curbing the flow of debris into our waters.</p>
    </div>

    <div class="section">
      <h2>Why It Matters</h2>
      <p>The impact of ocean trash extends beyond aesthetics, threatening marine life, ecosystems, and even human health. It's a crisis that demands our immediate attention and action.</p>
    </div>

    <div class="section" id="our-process">
      <h2>Our Process</h2>
      <p>Our approach combines education, community engagement, and direct action to tackle ocean trash at its source. We believe in empowering individuals to make informed choices and participate in solutions.</p>
    </div>

    <div class="section">
      <h2>What We’re Trying To Do</h2>
      <p>Our mission is to create a world where our oceans are free from trash. We’re working towards this goal through initiatives that promote responsible waste management and protect our waterways.</p>
    </div>

    <div class="section">
      <h2>How You Can Help</h2>
      <p>Every action counts. From reducing your plastic use to participating in clean-up events, there are countless ways to contribute to a cleaner ocean. Join us in making a difference.</p>
    </div>

    <!-- Updated Pledge Section -->
    <div class="pledge-section">
      <h2>Take the Pledge</h2>
      <p>Commit to protecting our drains and oceans. Sign our pledge to show your support for a trash-free sea.</p>
      <form id="pledge-form">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <button type="submit" class="btn" style="width:100%">Sign the Pledge</button>
      </form>
      <div id="form-result"></div>
    </div>

    <div class="footer">
      <div class="icons">
        <a href="https://www.instagram.com/stormdrain_dna/"><i class="fab fa-instagram"></i></a>
      </div>
      <div>
        ©2025 Asher, Ethan and Arush
      </div>
    </div>
  </div>
  <script>
    // Easing function for smooth scroll
    function easeInOutQuad(t) {
      return t<0.5 ? 2*t*t : -1+(4-2*t)*t;
    }
    function animateScrollTo(targetY, duration = 700) {
      const startY = window.scrollY;
      const distance = targetY - startY;
      const startTime = performance.now();
      function step(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const ease = easeInOutQuad(progress);
        window.scrollTo(0, startY + distance * ease);
        if (progress < 1) {
          requestAnimationFrame(step);
        }
      }
      requestAnimationFrame(step);
    }
    document.getElementById('learnMoreBtn').addEventListener('click', function(e) {
      e.preventDefault();
      var target = document.getElementById('our-process');
      var y = target.getBoundingClientRect().top + window.pageYOffset - 10;
      animateScrollTo(y, 750);
    });

    // FORM SUBMISSION SCRIPT WITH IP FETCHING
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyoqrf2bElhSZdxqMQevPtnZfkBjQKpL7mSjwtxNKesG3acBG7-MEFPT5FxK4IWFoZ4/exec';
    document.getElementById('pledge-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const form = e.target;
      document.getElementById('form-result').innerText = "Submitting...";

      // Get public IP before submitting
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(ipData => {
          const data = {
            name: form.name.value,
            email: form.email.value,
            ip: ipData.ip
          };
          return fetch(scriptURL, {
            method: 'POST',
            body: JSON.stringify(data)
          });
        })
        .then(res => res.json())
        .then(result => {
          if(result.result === 'success') {
            document.getElementById('form-result').innerText = "Thank you for signing the pledge! Check your email for confirmation.";
            form.reset();
          } else {
            document.getElementById('form-result').innerText = "Something went wrong. Please try again.";
          }
        })
        .catch(() => {
          document.getElementById('form-result').innerText = "Error submitting form.";
        });
    });
  </script>
</body>
</html>
